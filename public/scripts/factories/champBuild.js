app.factory("champBuild",["$http","items","champInfo",function(t,a,e){function m(t){if(null==t||"object"!=typeof t)return t;var a=t.constructor();for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e]);return a}var n=this;return n.champ={name:"",title:"",items:""},n.getChampion=function(c,i){n.champ.name&&n.champ.name==c?i(n.champ):t.get("http://lolstuff.elasticbeanstalk.com/lolstuff/build/"+c).success(function(t){e.getChampInfo(t.champ_id,function(t){n.champ.name=t.name,n.champ.title=t.title,n.champ.image=t.splash}),n.champ.items=[];for(var c=0;6>c;c++)a.getItem(t.items[c],function(t){n.champ.items.push(m(t)),n.champ.items.length>=6&&i(n.champ)})})},n}]);